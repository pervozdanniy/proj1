syntax = "proto3";
import "common.proto";
package skopa.core;


service PaymentGatewayService {
  rpc CreateUser(common.IdRequest) returns (SuccessResponse);
  rpc GetToken (common.IdRequest) returns (PG_Token);
  rpc CreateAccount (TokenSendRequest) returns (SuccessResponse);
  rpc UpdateAccount (UpdateAccountRequest) returns (SuccessResponse);
  rpc CreateContact (TokenSendRequest) returns (SuccessResponse);
  rpc UploadDocument (UploadDocumentRequest) returns (SuccessResponse);
  rpc DocumentCheck (AccountIdRequest) returns (SuccessResponse);
}


message AccountIdRequest{
  string id = 1;
  string payment_gateway = 2;
}

message UpdateAccountRequest{
  string id = 1;
  string status = 2;
  string payment_gateway = 3;
}


message FileData  {
  bytes buffer = 1;
  string fieldname = 2;
  string originalname = 3;
  string encoding = 4;
  string mimetype = 5;
  uint32 size = 6;
}

message UploadDocumentRequest {
  string label = 1;
  FileData file = 2;
  TokenSendRequest tokenData = 3;

}

message SuccessResponse {
  bool success = 1;
}

message TokenSendRequest{
  uint32 id = 1;
  string token = 2;
}

message PG_Token {
  Token_Data data = 1;
}

message Token_Data {
  string token = 1;
}